{"version":3,"file":"static/js/382.3cff9505.chunk.js","mappings":"6KAGQA,EAAaC,EAAAA,EAAAA,SA0ErB,IA/DsD,SAAC,GAAiD,IAAhDC,EAA+C,EAA/CA,MAAMC,EAAyC,EAAzCA,SAASC,EAAgC,EAAhCA,MAAMC,EAA0B,EAA1BA,sBAoBzE,OAjBMD,IAAUF,GAEZE,EAAME,SAAS,wBAAyBC,EAAAA,KAG1CC,EAAAA,EAAAA,YAAU,WACJN,GACFA,EAAMO,GAAG,eAAe,SAACC,EAAWC,GAClCC,QAAQC,IAAI,gBACZD,QAAQC,IAAI,QAAQV,EAASW,QAAQC,WAAWC,WAEhD,IAAIC,EAAmBf,EAAMgB,cAC7BN,QAAQC,IAAII,EAAiBE,KAAKR,SAGrC,CAACT,EAAOE,KAGT,UAAC,IAAD,YACE,SAAC,IAAD,CAAKgB,GAAI,GAAIC,GAAI,GAAIC,UAAU,OAA/B,UACI,SAAC,SAAD,CAAWC,MAAM,QAAjB,UACE,kBAAOC,KAAK,OAAOC,SAAU,SAACC,GAAD,OAAKrB,EAAsBqB,EAAEC,OAAOC,eAGrE,SAAC,IAAD,CAAKR,GAAI,GAAIC,GAAI,GAAIC,UAAU,OAA/B,UACI,SAAC,SAAD,CACIC,MAAM,QACNM,KAAK,QACLC,aAAW,EACXC,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,wBAJvC,UAMI,SAAC,IAAD,SAGR,SAAC,IAAD,CAAKC,KAAM,GAAX,UACI,SAAC,SAAD,CACKX,MAAM,oBACNM,KAAK,aACLE,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,mCAHxC,UAMA,SAACjC,EAAD,CAAUmC,WAAS,EAACC,UAAW,IAAKC,MAAO,CAAEC,OAAQ,YAIzD,SAAC,IAAD,CAAKJ,KAAM,GAAX,UAEQ,SAAC,SAAD,CACKX,MAAM,cACNM,KAAK,OACLP,UAAU,wBAHf,UAKI,gBAAKiB,IAAKpC,a,kOCpE9BqC,EAAeC,aAAaC,QAAQ,gBACpCC,EAAgBF,aAAaC,QAAQ,iBAGrCE,EAAU,mCAAG,WAAOC,GAAP,iFAA0BC,GAAAA,CAAM,CACzCC,OAAO,QACPC,IAAI,UAAD,OAAWH,EAAKI,IACnBC,QAAQ,CACJ,cAAgB,UAAhB,OAA0BV,GAC1B,QAAU,GAAV,OAAaG,IAEjBE,KAAKA,EAAKA,OAPD,mFAAH,sDASd,I,6BCwFA,EAtFyC,SAAC,GAAY,IAAXM,EAAU,EAAVA,MACnCC,GAAWC,EAAAA,EAAAA,MACVJ,GAAMK,EAAAA,EAAAA,MAANL,GACMJ,EAASM,EAAfN,KAAMA,KACX,GAAyBU,EAAAA,EAAAA,UAAcC,EAAAA,EAAAA,SAAmBX,EAAKY,OAA/D,eAAOA,EAAP,KAAaC,EAAb,KAqBA,GAAyBC,EAAAA,EAAAA,aAAYf,EAAW,CAACgB,QALjC,YACZC,EAAAA,EAAAA,GAAiB,QAAQ,yBAI4BC,UAjBvC,SAACC,GACZA,EAAIlB,KAAKmB,OACRH,EAAAA,EAAAA,GAAiB,QAAQE,EAAIlB,KAAKoB,KAE7BF,EAAIlB,KAAKmB,SACdH,EAAAA,EAAAA,GAAiB,UAAU,wBAC3BT,EAAS,sBAWZc,EAAL,EAAKA,OAAOC,EAAZ,EAAYA,UAOZ,GAAmCC,EAAAA,EAAAA,GAAS,CACxCC,QAAS,CAAEC,cAAe,MADtBpE,EAAR,EAAQA,MAAOC,EAAf,EAAeA,SAAUC,EAAzB,EAAyBA,OAIzBI,EAAAA,EAAAA,YAAU,WACHN,GACCA,EAAMqE,UAAUC,qBAAhB,OAAqC3B,QAArC,IAAqCA,OAArC,EAAqCA,EAAM4B,eAEjD,CAACvE,IAiBH,OACI,iCACI,SAACwE,EAAA,EAAD,CAAOC,MAAO,EAAd,4BAGA,UAAC,IAAD,CACI9C,KAAK,QACL+C,cAAe,CACXC,MAAMhC,EAAKgC,MACXC,WAAWjC,EAAKiC,YAEpBC,SA1BK,SAACC,GACdA,EAAOP,YAActE,EAASW,QAAQC,WAAWC,iBAC1CgE,EAAOC,KACd,IAAIC,EAAW,IAAIC,SACnBD,EAASE,OAAO,QAAQJ,EAAOH,OAC/BK,EAASE,OAAO,aAAaJ,EAAOF,YACpB,kBAATrB,GAAqByB,EAASE,OAAO,QAAQ3B,GACpDyB,EAASE,OAAO,cAAcjF,EAASW,QAAQC,WAAWC,WAC1DkD,EAAO,CAACrB,KAAKqC,EAASjC,GAAGA,KAmBjBoC,OAAO,WACPC,eAjBa,SAACC,GACtB3E,QAAQC,IAAI,UAAW0E,IAiBfC,aAAa,MATjB,WAWI,SAAC,IAAD,CAAuBnF,sBAAuB,SAACqB,GAAD,OA5C5B,SAACA,GAC3BgC,EAAShC,EAAE,IA2CgDrB,CAAsBqB,IAAIxB,MAAOA,EAAOE,MAAOA,EAAOD,SAAUA,KACnH,SAAC,SAAD,CAAWsF,WAAY,CAAEC,OAAQ,EAAGxD,KAAM,IAA1C,UACI,SAAC,IAAD,CAAQyD,QAASxB,EAAW3C,KAAK,UAAUoE,SAAS,SAApD,2B,UCpFdC,EACI,QAwBV,EAnBiB,WAAM,IAAD,EACb5C,GAAMK,EAAAA,EAAAA,MAANL,GACCG,GAAWC,EAAAA,EAAAA,MAIZR,GAAQiD,EAAAA,EAAAA,GAAY7C,GAHT,WACZG,EAAS,WAERP,KACL,cAAGA,QAAH,IAAGA,GAAH,UAAGA,EAAMA,YAAT,OAAG,EAAYA,MAEP,SAAC,IAAD,CAAWkD,WAAY,CAAC,CAAC/C,IAAI,IAAInB,KAAK,QAAQ,CAACmB,IAAI,IAAInB,KAAK,YAAY,CAACmB,IAAI,IAAInB,KAAKgE,IAAtF,UACI,SAAC,EAAD,CAAe1C,MAAON,OAKvB,SAACmD,EAAA,EAAD","sources":["components/myblogs/formItems.tsx","Queryhooks/updateBlog.ts","components/myblogs/form.tsx","pages/my-blogs/item.tsx"],"sourcesContent":["import { Col, Form, Input, Row } from \"antd\"\nimport BlotFormatter from 'quill-blot-formatter';\nimport { FC, useEffect } from \"react\";\nconst { TextArea } = Input;\n\n\ninterface PersonalBlogFormItems{\n    Quill:any;\n    quill:any;\n    quillRef:any,\n    handleMainPhotoChange:(e:any)=>void\n}\n\n\nlet PersonalBlogFormItems:FC<PersonalBlogFormItems> = ({quill,quillRef,Quill,handleMainPhotoChange}) =>{\n   \n    \n      if (Quill && !quill) {\n        // const BlotFormatter = require('quill-blot-formatter');\n        Quill.register('modules/blotFormatter', BlotFormatter);\n      }\n    \n      useEffect(() => {\n        if (quill) {\n          quill.on('text-change', (delta:any, oldContents:any) => {\n            console.log('Text change!');\n            console.log(\"Salom\",quillRef.current.firstChild.innerHTML);\n    \n            let currrentContents = quill.getContents();\n            console.log(currrentContents.diff(oldContents));\n          });\n        }\n      }, [quill, Quill]);\n    \n    return(\n        <Row>\n          <Col xl={24} xs={24} className='px-3'>\n              <Form.Item label='Photo'>\n                <input type='file' onChange={(e)=>handleMainPhotoChange(e.target.files)}/>\n                </Form.Item>\n            </Col>\n            <Col xl={24} xs={24} className='px-3'>\n                <Form.Item\n                    label=\"Title\"\n                    name=\"title\"\n                    hasFeedback\n                    rules={[{ required: true, message: 'Please input title!' }]}\n                >\n                    <Input />\n                </Form.Item>\n            </Col>\n            <Col span={24}>\n                <Form.Item\n                     label=\"Short Description\"\n                     name=\"short_desc\"\n                     rules={[{ required: true, message: 'Please input short description' }]}\n                >\n                \n                <TextArea showCount maxLength={100} style={{ height: 120 }}  />\n                </Form.Item>\n            </Col>\n            \n            <Col span={24} >\n                \n                    <Form.Item\n                         label=\"Description\"\n                         name=\"desc\"\n                         className=\"react-quill-container\"\n                    >\n                        <div ref={quillRef} />\n                    </Form.Item>\n                \n            </Col>\n        </Row>\n    )\n}\n\nexport default PersonalBlogFormItems","import axios from \"axios\"\nlet access_token = localStorage.getItem('access_token')\nlet refresh_token = localStorage.getItem('refresh_token')\n\n\nlet updateBlog = async (data:any) => await axios({\n        method:'PATCH',\n        url:`/blogs/${data.id}`,\n        headers:{\n            \"Authorization\":`Bearer ${access_token}`,\n            'refresh':`${refresh_token}`\n        },\n        data:data.data\n    })\nexport default updateBlog;","import { Button, Form, notification } from \"antd\";\nimport Title from \"antd/lib/typography/Title\";\nimport { FC, useEffect, useState } from \"react\";\nimport { useMutation } from \"react-query\";\nimport { useQuill } from \"react-quilljs\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { configs } from \"../../configs\";\nimport updateBlog from \"../../Queryhooks/updateBlog\";\nimport openNotification from \"../notification\";\nimport PersonalBlogFormItems from \"./formItems\";\n\n\ninterface BlogItemFormProps{\n    data2:any\n}\n\nlet BlogItemForm:FC<BlogItemFormProps> = ({data2}) =>{\n    let navigate = useNavigate()\n    let {id} = useParams()\n    let {data:{data}} = data2\n    const [photo,setphoto] = useState<any>(configs.base_url + data.photo)\n\n\n    //if update request successfull\n    const onSuccess = (res:any) =>{\n        if(res.data.error){\n            openNotification('error',res.data.msg)\n        }\n        else if(!res.data.error){\n            openNotification('success','Updated successfully')\n            navigate('/profile/blogs')\n        }\n    }\n\n    //if update request unsuccessfull\n\n    const onError = () =>{\n        openNotification('error','Something went wrong')\n    }\n\n\n    let {mutate,isLoading} = useMutation(updateBlog,{onError,onSuccess})\n\n\n\n    const handleMainPhotoChange = (e:any)=>{\n        setphoto(e[0])\n    }\n    const { quill, quillRef, Quill } = useQuill({\n        modules: { blotFormatter: {} }\n    });\n\n    useEffect(()=>{\n        if(quill){\n            quill.clipboard.dangerouslyPasteHTML(data?.description)\n        }\n    },[quill])\n\n    const onFinish = (values:any) => {\n        values.description = quillRef.current.firstChild.innerHTML\n        delete values.desc\n        let formdata = new FormData()\n        formdata.append('title',values.title)\n        formdata.append('short_desc',values.short_desc)\n        typeof photo !=='string' && formdata.append('photo',photo)\n        formdata.append('description',quillRef.current.firstChild.innerHTML)\n        mutate({data:formdata,id:id})\n      };\n    \n      const onFinishFailed = (errorInfo:any) => {\n        console.log('Failed:', errorInfo);\n      };\n    \n    return(\n        <>\n            <Title level={3}>\n                Update a blog\n            </Title>\n            <Form \n                name=\"basic\"\n                initialValues={{\n                    title:data.title,\n                    short_desc:data.short_desc\n                }}\n                onFinish={onFinish}\n                layout='vertical'\n                onFinishFailed={onFinishFailed}\n                autoComplete=\"off\"\n            >\n                <PersonalBlogFormItems handleMainPhotoChange={(e)=>handleMainPhotoChange(e)} quill={quill} Quill={Quill} quillRef={quillRef}   />\n                <Form.Item wrapperCol={{ offset: 0, span: 16 }}>\n                    <Button loading={isLoading} type=\"primary\" htmlType=\"submit\">\n                        Send\n                    </Button>\n                    \n                </Form.Item>\n            </Form>\n        </>\n\n    )\n}\n\nexport default BlogItemForm;","import { useNavigate, useParams } from \"react-router-dom\";\nimport AppLayout from \"../../components/layout\";\nimport Loading from \"../../components/Loading\";\nimport BlogItemForm from \"../../components/myblogs/form\";\nimport useBlogItem from \"../../Queryhooks/useBlogItem\";\n\n\nconst blogsInfo = {\n    title:'Title',\n    desc:'Description1 Description1 Description1 Description1 Description1 Description1 Description1 '\n}\n\n\nlet MyBlogItem = () =>{\n    let {id} = useParams()\n    const navigate = useNavigate()\n    const onError = () =>{\n        navigate('/404')\n    }\n    let {data} = useBlogItem(id,onError)\n    if(data?.data?.data){\n        return(\n            <AppLayout breadcrumb={[{url:'/',name:'Home'},{url:'/',name:\"My blogs\"},{url:'#',name:blogsInfo.title}]}>\n                <BlogItemForm  data2={data}/>\n            </AppLayout>\n        )\n    }\n    else{\n        return <Loading />\n    }\n}\n\nexport default MyBlogItem;"],"names":["TextArea","Input","quill","quillRef","Quill","handleMainPhotoChange","register","BlotFormatter","useEffect","on","delta","oldContents","console","log","current","firstChild","innerHTML","currrentContents","getContents","diff","xl","xs","className","label","type","onChange","e","target","files","name","hasFeedback","rules","required","message","span","showCount","maxLength","style","height","ref","access_token","localStorage","getItem","refresh_token","updateBlog","data","axios","method","url","id","headers","data2","navigate","useNavigate","useParams","useState","configs","photo","setphoto","useMutation","onError","openNotification","onSuccess","res","error","msg","mutate","isLoading","useQuill","modules","blotFormatter","clipboard","dangerouslyPasteHTML","description","Title","level","initialValues","title","short_desc","onFinish","values","desc","formdata","FormData","append","layout","onFinishFailed","errorInfo","autoComplete","wrapperCol","offset","loading","htmlType","blogsInfo","useBlogItem","breadcrumb","Loading"],"sourceRoot":""}